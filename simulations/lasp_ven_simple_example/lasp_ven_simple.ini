[General]
cmdenv-express-mode = true
cmdenv-autoflush = true
cmdenv-status-frequency = 1s

# Network configuration
network = LaspVenSimpleSimulation
sim-time-limit = 300s

# Random number generators
num-rngs = 3
seed-set = ${repetition}

# Simulation control
debug-on-errors = false
print-undisposed = false

**.scalar-recording = true
**.vector-recording = true

#############################################################################
# World & Mobility Configuration
#############################################################################

# Playground configuration
*.playgroundSizeX = 2500m
*.playgroundSizeY = 2500m
*.playgroundSizeZ = 50m

# Veins integration
*.veinsManager.updateInterval = 0.1s
*.veinsManager.host = "localhost"
*.veinsManager.port = 9999
*.veinsManager.autoShutdown = true
*.veinsManager.launchConfig = xmldoc("launchd.xml")
*.veinsManager.moduleType = "lasp_ven.veins_inet.VeinsInetCar"
*.veinsManager.moduleName = "vehicle"
*.veinsManager.moduleDisplayString = ""

#############################################################################
# Network Layer Configuration  
#############################################################################

# IPv4 configuration
*.configurator.typename = "HostAutoConfigurator"
*.configurator.interfaces = "wlan0"
*.configurator.mcastGroups = "224.0.0.1"

#############################################################################
# Physical Layer Configuration
#############################################################################

# Radio medium
*.radioMedium.typename = "Ieee80211ScalarRadioMedium"
*.radioMedium.backgroundNoise.power = -110dBm
*.radioMedium.mediumLimitCache.carrierFrequency = 5.890e9Hz

# IEEE 802.11p configuration for vehicles
*.vehicle[*].wlan.typename = "Ieee80211Interface"
*.vehicle[*].wlan.radio.typename = "Ieee80211ScalarRadio"
*.vehicle[*].wlan.radio.carrierFrequency = 5.890e9Hz
*.vehicle[*].wlan.radio.bandwidth = 10MHz
*.vehicle[*].wlan.radio.transmitter.power = 20mW
*.vehicle[*].wlan.radio.transmitter.preambleDuration = 20us
*.vehicle[*].wlan.radio.transmitter.headerLength = 23B
*.vehicle[*].wlan.radio.receiver.sensitivity = -85dBm
*.vehicle[*].wlan.radio.receiver.energyDetection = -85dBm
*.vehicle[*].wlan.radio.receiver.snirThreshold = 4dB
*.vehicle[*].wlan.mac.typename = "Ieee80211Mac"
*.vehicle[*].wlan.mac.qosStation = false

# LASP Manager network configuration
*.laspManager.wlan.typename = "Ieee80211Interface"
*.laspManager.wlan.radio.typename = "Ieee80211ScalarRadio"
*.laspManager.wlan.radio.carrierFrequency = 5.890e9Hz
*.laspManager.wlan.radio.transmitter.power = 100mW
*.laspManager.wlan.radio.transmitter.headerLength = 23B
*.laspManager.wlan.radio.receiver.sensitivity = -85dBm
*.laspManager.wlan.radio.receiver.energyDetection = -85dBm
*.laspManager.wlan.radio.receiver.snirThreshold = 4dB
*.laspManager.wlan.mac.typename = "Ieee80211Mac"

# Test App network configuration
*.testApp.wlan.typename = "Ieee80211Interface"
*.testApp.wlan.radio.typename = "Ieee80211ScalarRadio"
*.testApp.wlan.radio.carrierFrequency = 5.890e9Hz
*.testApp.wlan.radio.transmitter.power = 50mW
*.testApp.wlan.radio.transmitter.headerLength = 23B
*.testApp.wlan.radio.receiver.sensitivity = -85dBm
*.testApp.wlan.radio.receiver.energyDetection = -85dBm
*.testApp.wlan.radio.receiver.snirThreshold = 4dB
*.testApp.wlan.mac.typename = "Ieee80211Mac"

# RSU configuration
*.rsu[*].wlan.typename = "Ieee80211Interface"
*.rsu[*].wlan.radio.typename = "Ieee80211ScalarRadio"
*.rsu[*].wlan.radio.carrierFrequency = 5.890e9Hz
*.rsu[*].wlan.radio.transmitter.power = 100mW

#############################################################################
# Application Layer Configuration
#############################################################################

# LASP Manager configuration
*.laspManager.numApps = 1
*.laspManager.app[0].typename = "lasp_ven.lasp_ven_simple.LASPManager"
*.laspManager.app[0].strategy = ${strategy="greedy","threshold"}
*.laspManager.app[0].loadThreshold = 0.8
*.laspManager.app[0].evaluationInterval = 2s
*.laspManager.app[0].numEdgeServers = ${servers=3,5,8}
*.laspManager.app[0].localPort = 9999

# Test App configuration
*.testApp.numApps = 1
*.testApp.app[0].typename = "lasp_ven.lasp_ven_simple.TestApp"
*.testApp.app[0].testId = 1
*.testApp.app[0].requestInterval = 5s
*.testApp.app[0].maxRequests = 10
*.testApp.app[0].laspManagerPort = 9999

# Vehicle application configuration (using existing veins_inet apps)
*.vehicle[*].numApps = 1
*.vehicle[*].app[0].typename = "lasp_ven.veins_inet.VeinsInetCar"

# Mobility configuration for fixed infrastructure
*.laspManager.mobility.typename = "StationaryMobility"
*.laspManager.mobility.initialX = 1250m
*.laspManager.mobility.initialY = 1250m
*.laspManager.mobility.initialZ = 10m

*.testApp.mobility.typename = "StationaryMobility"
*.testApp.mobility.initialX = 1250m
*.testApp.mobility.initialY = 1350m
*.testApp.mobility.initialZ = 10m

*.rsu[0].mobility.initialX = 500m
*.rsu[0].mobility.initialY = 500m
*.rsu[0].mobility.initialZ = 10m

#############################################################################
# Statistics and Output Configuration
#############################################################################

# Result recording
**.requestsReceived.result-recording-modes = +count,+sum,+vector
**.requestsServed.result-recording-modes = +count,+sum,+vector
**.averageLatency.result-recording-modes = +mean,+max,+min,+vector
**.serverUtilization.result-recording-modes = +mean,+max,+vector
**.requestsSent.result-recording-modes = +count,+sum,+vector
**.responsesReceived.result-recording-modes = +count,+sum,+vector

# Warmup period
warmup-period = 30s

# Output files
output-vector-file = ${resultdir}/${configname}-${strategy}-servers${servers}-${repetition}.vec
output-scalar-file = ${resultdir}/${configname}-${strategy}-servers${servers}-${repetition}.sca

#############################################################################
# Experimental Configuration
#############################################################################

[Config Baseline]
description = "Baseline LASP VEN simulation"

[Config CompareStrategies] 
description = "Compare different service placement strategies"
extends = Baseline

[Config ScalabilityTest]
description = "Test scalability with different numbers of edge servers"
extends = Baseline 